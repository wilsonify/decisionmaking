include("Bayesian Model Estimation.jl")
"""
The ǫ-green exploration strategy. With probability ϵ ,
it will return a random action after
decaying ϵ by a factor α . Otherwise,
it will return a greedy action.
"""
mutable struct EpsilonGreedyExploration
    ϵ::Any # probability of random arm
    α::Any # exploration decay factor
end
function (π::EpsilonGreedyExploration)(model::BanditModel)
    if rand() < π.ϵ
        π.ϵ *= π.α
        return rand(eachindex(model.B))
    else
        return argmax(mean.(model.B))
    end
end


mutable struct ExploreThenCommitExploration
    """
        The explore-thencommit exploration strategy. If k is
strictly positive, it will return a random action after decrementing k .
Otherwise, it will return a greedy
action.
        """
    k::Any # pulls remaining until commitment
end
function (π::ExploreThenCommitExploration)(model::BanditModel)
    if π.k > 0
        π.k -= 1
        return rand(eachindex(model.B))
    end
    return argmax(mean.(model.B))
end
